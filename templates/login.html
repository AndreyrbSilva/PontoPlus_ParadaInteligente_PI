<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}" />

    <title>PontoPlus - Login</title>
  </head>
  <header class="main-header {% if force_register %}sign-up-mode{% endif %}">
    <nav class="navbar">
      
      <a href="/" class="logo">
        <img src="{{ url_for('static', filename='images/logoicon.svg') }}" alt="Logo PontoPlus" class="logo-img">
        PontoPlus
      </a>

      <button class="theme-toggle" id="theme-btn" title="Alternar tema">
        <svg class="icon moon" viewBox="0 -960 960 960" width="24px" height="24px" xmlns="http://www.w3.org/2000/svg">
          <path d="M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Z" fill="currentColor"/>
        </svg>
      </button>

    </nav>
  </header>

  <body>
    <div class="container {% if force_register %}sign-up-mode{% endif %}" id="container">

      <div class="forms-container">
        <div class="signin-signup">

          <!-- LOGIN -->
          <form action="/login" method="POST" class="sign-in-form">
            <h2 class="title">Entrar</h2>

            {% if erro %}
            <p class="erro-msg">{{ erro }}</p>
            {% endif %}

            <div class="input-field">
              <i class="fa-solid fa-envelope"></i>
              <input type="email" name="email" placeholder="Email" required />
            </div>

            <div class="input-field">
              <i class="fa-solid fa-lock"></i>
              <input type="password" name="senha" placeholder="Senha" required />
            </div>

            <input type="submit" value="Entrar" class="btn solid" />

            <a href="/painel" class="social-text">
              Ignorar e seguir para o painel de linhas
            </a>
          </form>

          <!-- REGISTRO -->
          <form action="/register" method="POST" class="sign-up-form">
            <h2 class="title">Registre-se</h2>

            {% if erro_register %}
            <p class="erro-msg">{{ erro_register }}</p>
            {% endif %}

            <div class="input-field">
              <i class="fa-solid fa-user"></i>
              <input type="text" name="usuario" placeholder="Usuário" required />
            </div>

            <div class="input-field">
              <i class="fa-solid fa-envelope"></i>
              <input type="email" name="email" placeholder="Email" required />
            </div>

            <div class="input-field" id="senha-field">
              <i class="fa-solid fa-lock"></i>
              <input type="password" name="senha" id="senha-register" placeholder="Senha" required />
            </div>

            <div id="strength-bar">
              <div id="strength-fill"></div>
            </div>
            
            <p id="password-strength" class="strength-msg"></p>

            <ul class="rules-list">
              <li id="rule-length">Pelo menos 8 caracteres</li>
              <li id="rule-upper">Letra maiúscula</li>
              <li id="rule-lower">Letra minúscula</li>
              <li id="rule-number">Pelo menos 1 número</li>
              <li id="rule-special">Pelo menos 1 caractere especial</li>
            </ul>


            <input type="submit" class="btn" value="Cadastrar" />
          </form>

        </div>
      </div>

      <div class="panels-container">

        <!-- Painel Esquerdo -->
        <div class="panel left-panel">
          <div class="content">
            <h3>Novo aqui ?</h3>
            <p>Crie sua conta para acessar os dashboards e acompanhar os dados operacionais.</p>
            <button class="btn transparent" id="sign-up-btn">Registre-se</button>
          </div>
          <img src="{{ url_for('static', filename='images/log.svg') }}" class="image" alt="Login Illustration" />
        </div>

        <!-- Painel Direito -->
        <div class="panel right-panel">
          <div class="content">
            <h3>Já é um de nós ?</h3>
            <p>Entre com seu usuário e continue acompanhando nossos dashboards.</p>
            <button class="btn transparent" id="sign-in-btn">Entrar</button>
          </div>
          <img src="{{ url_for('static', filename='images/register.svg') }}" class="image" alt="Register Illustration" />
        </div>

      </div>
    </div>

    <script src="{{ url_for('static', filename='js/login.js') }}"></script>
  </body>
</html>
